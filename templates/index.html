<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Sistem Prediksi Bantuan Sosial</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<nav class="navbar navbar-expand-lg">
    <div class="container">
        <span class="navbar-brand">Prediksi Bantuan Sosial</span>
    </div>
</nav>

<div class="container mt-4">

<div class="card glass-card mb-4">
    <h5 class="mb-3">Input Data Calon Penerima</h5>

    <form method="POST">
        <select class="form-select mb-2" name="model">
            <option value="rf" {% if selected_model=="rf" %}selected{% endif %}>
                Random Forest
            </option>
            <option value="lr" {% if selected_model=="lr" %}selected{% endif %}>
                Logistic Regression
            </option>
        </select>

        <input class="form-control mb-2" name="Pendapatan" placeholder="Pendapatan">
        <input class="form-control mb-2" name="Jumlah_Tanggungan" placeholder="Jumlah Tanggungan">
        <input class="form-control mb-2" name="Kondisi_Rumah" placeholder="Kondisi Rumah (0-2)">
        <input class="form-control mb-2" name="Status_Pekerjaan" placeholder="Status Pekerjaan (0-2)">
        <input class="form-control mb-3" name="Kepemilikan_Aset" placeholder="Aset (0/1)">

        <button class="btn btn-accent">Prediksi</button>
    </form>

    {% if result %}
    <div class="mt-3">
        <span class="badge result-badge">{{ result }}</span>
    </div>
    {% endif %}
</div>

{% if show_graph %}
<div class="row g-4">
    <div class="col-md-6">
        <div class="card glass-card text-center">
            <h6>Confusion Matrix</h6>
            <img src="{{ url_for('static', filename=cm_file) }}" class="img-fluid">
        </div>
    </div>

    <div class="col-md-6">
        <div class="card glass-card text-center">
            <h6>ROC Curve</h6>
            <img src="{{ url_for('static', filename=roc_file) }}" class="img-fluid">
        </div>
    </div>

    {% if fi_file %}
    <div class="col-md-6">
        <div class="card glass-card text-center">
            <h6>Feature Importance</h6>
            <img src="{{ url_for('static', filename=fi_file) }}" class="img-fluid">
        </div>
    </div>
    {% endif %}

    <div class="col-md-6">
        <div class="card glass-card text-center">
            <h6>Distribusi Kelas</h6>
            <img src="{{ url_for('static', filename=dist_file) }}" class="img-fluid">
        </div>
    </div>
</div>
{% endif %}

</div>
</body>
</html>
